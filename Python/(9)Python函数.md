# 函数

### 一、定义函数

使用关键字def来告诉Python你要定义一个函数。向Python指出函数名，还可能在括号内指出函数为完成任务需要什么样的参数。最后，定义以冒号结尾。

```python
def function_name( para ):
	"""
	docstring
	"""
	# use function do something
	
	return 
```

def后边的所有缩进构成了函数体。三个引号括起来的叫文档字符串的注释，描述了函数是做什么的。

调用函数时，可依次指定函数名及括号内的各个参数。



### 二、函数参数

##### 1、参数的可更改与不可更改

在 python 中，strings, tuples, 和 numbers 是不可更改的对象，而 list,dict 等则是可以修改的对象。

- **不可变类型：**变量赋值 **a=5** 后再赋值 **a=10**，这里实际是新生成一个 int 值对象 10，再让 a 指向它，而 5 被丢弃，不是改变 a 的值，相当于新生成了 a。
- **可变类型：**变量赋值 **la=[1,2,3,4]** 后再赋值 **la[2]=5** 则是将 list la 的第三个元素值更改，本身la没有动，只是其内部的一部分值被修改了。

python 函数的参数传递：

- **不可变类型：**类似 C++ 的值传递，如 整数、字符串、元组。如 fun(a)，传递的只是 a 的值，没有影响 a 对象本身。如果在 fun(a)）内部修改 a 的值，则是新生成来一个 a。
- **可变类型：**类似 C++ 的引用传递，如 列表，字典。如 fun(la)，则是将 la 真正的传过去，修改后 fun 外部的 la 也会受影响

python 中一切都是对象，严格意义我们不能说值传递还是引用传递，我们应该说传不可变对象和传可变对象。

##### 2、形参与实参

形参在函数定义时设置，完成函数的具体功能。

实参在函数被调用时传递。

调用函数时，Python必须将函数调用中的每个实参都关联到函数定义中的一个形参。

##### 3、位置实参

基于实参顺序的关联方式称为位置实参。

使用位置实参来调用函数时，调用者需要知道函数定义中的形式参数的顺序信息，依次按顺序传入形参要求的格式及意义的实参，否则如果实参的顺醋不正确，函数会发生意料之外的执行。

```python
def function_1(para_1, para_2):
	do something
	return
```

```python
#位置实参调用
function_1(a,b)
```

##### 4、关键字实参

关键字实参是传递给函数的名称-值对。关键字实参无需考虑函数调用中的实参顺序，还清楚的指出了函数调用中各个值的用途。

```python
#关键字实参调用 以下两种调用等效
function_1(para_1 = a, para_2 = b)
function_1(para_2 = b, para_1 = a)
```

##### 5、默认值

编写函数时，可给每个形参指定默认值。在调用函数中给形参提供了实参时，Python将使用指定的实参值；否则，将使用默认值。因此，给形参指定默认值后，可在函数调用中省略相应的实参。

使用默认值时，在形参列表中必须先列出没有默认值的形参，再列出有默认值的形参。这让Python依然能够正确的解读位置实参。

```python
def function_2(para_1, para_2 = b):
	do something
	return
```

```python
#默认值参数调用
function_2(a)
function_2(a, c)
```

### 三、传递任意数量的实参

##### 使用星号修饰参数

如果你预先不知道函数需要接收多少个实参，则参数使用星号让Python创建一个元组，并将收到的所有值都封装到这个元组中。

```python
def function_4( *para ):
	do something
	return
```

Python创建一个元组名为参数名的元组，将实参封装到元组中，即使函数只收到一个值也如此。

##### 位置实参与任意数量实参混合使用

如果让函数接收不同类型的实参，必须在函数定义中将接纳任意数量实参的形参放在最后。Python先匹配位置参数和关键字实参，再将余下的实参都收集到最后一个形参中。

```python
def function_5( para_1, *para):
	do something
	return
```

##### 使用双星号修饰参数

有时候，需要接受任意数量的实参，但预先不知道传递给函数的会是什么样的信息。在这种情况下，可将函数编写成能够接受任意数量的键值对------调用语句提供了多少就接收多少。

```python
def function_6(para_1, **para):
	do something
	return
```

形参的两个星号让Python以参数名创建了一个空字典，并将收到的所有键值对都封装到这个字典中。我们可以在函数中像访问字典一样访问para中的键值对。

**编写函数时，可以以各种方式混合使用位置实参、关键字实参和任意数量的实参 。**

##### 声明函数时，参数中星号 ***** 可以单独出现，例如:

```python
def f(a,b,*,c):
    return a+b+c
```

如果单独出现星号 ***** 后的参数必须用关键字传入。

### 四、匿名函数

python 使用 lambda 来创建匿名函数。

所谓匿名，意即不再使用 def 语句这样标准的形式定义一个函数。

- lambda 只是一个表达式，函数体比 def 简单很多。
- lambda的主体是一个表达式，而不是一个代码块。仅仅能在lambda表达式中封装有限的逻辑进去。
- lambda 函数拥有自己的命名空间，且不能访问自己参数列表之外或全局命名空间里的参数。
- 虽然lambda函数看起来只能写一行，却不等同于C或C++的内联函数，后者的目的是调用小函数时不占用栈内存从而增加运行效率

##### 语法

lambda 函数的语法只包含一个语句，如下：

```python
lambda [arg1 [,arg2,.....argn]]:expression

# 可写函数说明 
sum = lambda arg1, arg2: arg1 + arg2  
# 调用sum函数 
print ("相加后的值为 : ", sum( 10, 20 )) 
print ("相加后的值为 : ", sum( 20, 20 ))
```

### 五、返回值

函数返回的值称为返回值。在函数中，可以使用return语句将值返回到调用函数的代码行。

调用返回值的函数时，需要提供一个变量，用于存储返回值。

函数可以返回任何类型的值，包括列表、字典等较复杂的数据结构。

函数还可以依顺序返回多个值。

```python
def function_3():
	do something
	return var_1, var_2
```

return后如果没有表达式，则默认返回None

### 六、传递列表

将列表传递给函数后，函数就能直接访问其内容，也可对其进行修改。在函数中对这个列表所做的任何修改都是永久性的，这可以让人们高效的处理大量的数据。

但有时候不希望函数修改原列表，可以**使用切片法（list[:]）创建列表的副本**，这样函数所做的任何修改都只影响副本，而丝毫不影响原列表。

虽然向函数传递列表的副本可保留原始列表的内容，但除非有充分的理由需要传递副本，否则还是应该将原始列表传递给函数，因为让函数使用现成列表可避免花时间和内存创建副本，从而提升效率，在处理大型列表时尤其如此。



### 函数编写指南

> 应该给函数指定描述性名称，且只在其中使用小写字母和下划线。给模块命名时也应遵守此约定。
>
> 每个函数都应包含简要地阐述其功能的注释，该注释应紧跟在函数定义后面。
>
> 给形参指定默认值时，等号两边不要有空格。对于函数调用中的关键字实参，也应该遵循此约定。
>
> 如果形参很多，可在函数定义中输入左括号后按回车键，并在下一行按两次Tab键，从而将形参列表与之所金一层的函数体区分开来。
>
> 使用两个空行讲相邻的两个函数分开